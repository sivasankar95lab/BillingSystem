<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Invoice Generator</title>

    <!-- Google Fonts: Roboto -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/style.css">
</head>

<body class="bg-light text-dark">

    <nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow-sm">
        <div class="container">
            <a class="navbar-brand fw-bold" href="#"><i class="fas fa-file-invoice me-2"></i>Invoice Generator</a>
        </div>
    </nav>

    <div class="container py-4">
        <form id="invoiceForm">
            <div class="row g-4">
                <!-- Main Invoice Area -->
                <div class="col-lg-8">
                    <!-- Invoice Details Card -->
                    <div class="card shadow-sm border-0 mb-4">
                        <div
                            class="card-header bg-white border-bottom py-3 d-flex justify-content-between align-items-center">
                            <h5 class="mb-0 text-primary"><i class="fas fa-info-circle me-2"></i>Invoice Details</h5>
                            <button type="button" class="btn btn-sm btn-outline-danger" id="resetBtn">
                                <i class="fas fa-undo me-1"></i> Reset
                            </button>
                        </div>
                        <div class="card-body">
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label class="form-label fw-medium">Invoice Number</label>
                                    <input type="text" class="form-control" id="invoiceNumber" placeholder="INV-001"
                                        value="INV-001" required>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label fw-medium">Date</label>
                                    <input type="date" class="form-control" id="invoiceDate" required>
                                </div>
                            </div>

                            <hr class="my-4">

                            <div class="row g-4">
                                <!-- Company Details -->
                                <div class="col-md-6 border-end-md">
                                    <h6 class="mb-3 text-secondary">My Company (From)</h6>
                                    <div class="mb-2">
                                        <label class="form-label small text-muted">Business Name</label>
                                        <input type="text" class="form-control" id="companyName"
                                            placeholder="Your Company Name" value="Sivalingam & Co">
                                    </div>
                                    <div class="mb-2">
                                        <label class="form-label small text-muted">GSTIN</label>
                                        <input type="text" class="form-control" id="companyGst"
                                            placeholder="e.g. 29AAAAA0000A1Z5" value="33AKUPP7275Q1ZY">
                                    </div>
                                    <div class="mb-2">
                                        <label class="form-label small text-muted">Phone Number</label>
                                        <input type="text" class="form-control" id="companyPhone"
                                            placeholder="Ex: +91 9876543210" value="9444615746">
                                    </div>
                                    <div class="mb-2">
                                        <label class="form-label small text-muted">Address</label>
                                        <textarea class="form-control" id="companyAddress" rows="2"
                                            placeholder="Full Address">No.1, Old Mahabalipuram Road, Kandanchavadi, Chennai 600096.</textarea>
                                    </div>
                                </div>

                                <!-- Client Details -->
                                <div class="col-md-6">
                                    <h6 class="mb-3 text-secondary">Client Details (To)</h6>
                                    <div class="mb-2">
                                        <label class="form-label small text-muted">Client Name</label>
                                        <input type="text" class="form-control" id="clientName"
                                            placeholder="Client Name">
                                    </div>
                                    <div class="mb-2">
                                        <label class="form-label small text-muted">Client GSTIN</label>
                                        <input type="text" class="form-control" id="clientGst"
                                            placeholder="Client GSTIN (Optional)">
                                    </div>
                                    <div class="mb-2">
                                        <label class="form-label small text-muted">Phone Number</label>
                                        <input type="text" class="form-control" id="clientPhone"
                                            placeholder="Ex: +91 9876543210">
                                    </div>
                                    <div class="mb-2">
                                        <label class="form-label small text-muted">Place of Supply</label>
                                        <select class="form-select" id="clientState">
                                            <option value="Same State">Intra-State (CGST + SGST)</option>
                                            <option value="Inter State">Inter-State (IGST)</option>
                                        </select>
                                    </div>
                                    <div class="mb-2">
                                        <label class="form-label small text-muted">Address</label>
                                        <textarea class="form-control" id="clientAddress" rows="2"
                                            placeholder="Client address"></textarea>
                                    </div>
                                </div>
                            </div>

                            <hr class="my-4">

                            <!-- Transport Details (Optional) -->
                            <h6 class="mb-3 text-secondary">Transport Details <span
                                    class="text-muted small fw-normal">(For Delivery Challan)</span></h6>
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label class="form-label small text-muted">Transport Mode</label>
                                    <select class="form-select form-select-sm" id="transportMode">
                                        <option value="">Select Mode</option>
                                        <option value="Road" selected>Road</option>
                                        <option value="Rail">Rail</option>
                                        <option value="Air">Air</option>
                                        <option value="Ship">Ship</option>
                                    </select>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label small text-muted">Vehicle/Ref Number</label>
                                    <input type="text" class="form-control form-control-sm" id="vehicleNumber"
                                        placeholder="e.g. KA-01-AB-1234" value="TN 19 4496">
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Branding Card (Moved) -->
                    <div class="card shadow-sm border-0 mb-4">
                        <div class="card-header bg-white border-bottom py-3">
                            <h5 class="mb-0 text-primary"><i class="fas fa-certificate me-2"></i>Branding & Signature
                            </h5>
                        </div>
                        <div class="card-body">
                            <div class="row g-4">
                                <!-- Logo Section -->
                                <div class="col-md-6 border-end-md">
                                    <h6 class="mb-3 text-secondary">Company Logo</h6>
                                    <div class="mb-3">
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" name="logoOption"
                                                id="logoUploadOption" value="upload">
                                            <label class="form-check-label" for="logoUploadOption">Upload</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" name="logoOption"
                                                id="logoUrlOption" value="url" checked>
                                            <label class="form-check-label" for="logoUrlOption">Image URL</label>
                                        </div>
                                    </div>

                                    <div id="logoUploadInput" class="d-none">
                                        <input class="form-control" type="file" id="logoFile" accept="image/*">
                                        <div class="form-text">Recommended: PNG or JPG, max 200px width.</div>
                                    </div>

                                    <div id="logoUrlInput" class="">
                                        <input class="form-control" type="url" id="logoUrl"
                                            placeholder="https://example.com/logo.png"
                                            value="https://i.ibb.co/0pDGvsrc/Logo.png">
                                        <button type="button" class="btn btn-sm btn-outline-primary mt-2"
                                            id="previewLogoUrlBtn">Load Image</button>
                                    </div>

                                    <div class="mt-3 text-center p-2 bg-light rounded border"
                                        style="min-height: 100px; display: flex; align-items: center; justify-content: center;">
                                        <img id="logoPreview" src="" alt="Logo Preview"
                                            style="max-width: 100%; max-height: 100px; display: none;">
                                        <span class="text-muted small" id="logoPlaceholder">No Logo Selected</span>
                                    </div>
                                </div>

                                <!-- Signature Section -->
                                <div class="col-md-6">
                                    <h6 class="mb-3 text-secondary">Authorized Signature</h6>
                                    <div class="mb-3">
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" name="signatureOption"
                                                id="sigDrawOption" value="draw">
                                            <label class="form-check-label" for="sigDrawOption">Draw</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" name="signatureOption"
                                                id="sigUploadOption" value="upload">
                                            <label class="form-check-label" for="sigUploadOption">Upload</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" name="signatureOption"
                                                id="sigUrlOption" value="url" checked>
                                            <label class="form-check-label" for="sigUrlOption">Image URL</label>
                                        </div>
                                    </div>

                                    <div id="sigDrawInput" class="d-none">
                                        <canvas id="signatureCanvas" class="border rounded bg-white w-100"
                                            height="150"></canvas>
                                        <button type="button" class="btn btn-sm btn-outline-danger w-100 mt-1"
                                            id="clearSignatureBtn"><i class="fas fa-eraser me-1"></i>Clear
                                            Signature</button>
                                    </div>

                                    <div id="sigUploadInput" class="d-none">
                                        <input class="form-control" type="file" id="signatureFile" accept="image/*">
                                        <div class="mt-3 text-center p-2 bg-light rounded border"
                                            style="min-height: 100px; display: flex; align-items: center; justify-content: center;">
                                            <img id="signaturePreview" src="" alt="Signature Preview"
                                                style="max-width: 100%; max-height: 100px; display: none;">
                                            <span class="text-muted small" id="signaturePlaceholder">No Signature
                                                Selected</span>
                                        </div>
                                    </div>

                                    <div id="sigUrlInput" class="">
                                        <input type="text" class="form-control" id="signatureUrl"
                                            placeholder="https://example.com/signature.png"
                                            value="https://i.ibb.co/hJ84PzVr/download.png">
                                        <div class="mt-3 text-center p-2 bg-light rounded border"
                                            style="min-height: 100px; display: flex; align-items: center; justify-content: center;">
                                            <img id="signatureUrlPreview" src="" alt="Signature Preview"
                                                style="max-width: 100%; max-height: 100px; display: none;">
                                            <span class="text-muted small" id="signatureUrlPlaceholder">Preview will
                                                appear here</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Payment Details Card -->
                    <div class="card shadow-sm border-0 mb-4">
                        <div class="card-body">
                            <h5 class="card-title mb-3 text-primary"><i class="fas fa-university me-2"></i>Payment
                                Details</h5>
                            <div class="row g-3">
                                <div class="col-12">
                                    <label class="form-label small text-muted">Account Name</label>
                                    <input type="text" class="form-control" id="accountName"
                                        placeholder="Account Holder Name" value="Sivalingam Co">
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label small text-muted">Bank Name</label>
                                    <input type="text" class="form-control" id="bankName" placeholder="e.g. HDFC Bank"
                                        value="South Indian Bank - Perungudi">
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label small text-muted">Account Number</label>
                                    <input type="text" class="form-control" id="accountNumber" placeholder="0000000000"
                                        value="0567073000000496">
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label small text-muted">IFSC Code</label>
                                    <input type="text" class="form-control" id="ifscCode" placeholder="HDFC0001234"
                                        value="SIBL0000567">
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label small text-muted">UPI ID</label>
                                    <input type="text" class="form-control" id="upiId" placeholder="username@bank"
                                        value="9444615746@okbizaxis">
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Items Card -->
                    <div class="card shadow-sm border-0">
                        <div
                            class="card-header bg-white border-bottom py-3 d-flex justify-content-between align-items-center">
                            <h5 class="mb-0 text-primary"><i class="fas fa-list me-2"></i>Items</h5>
                            <button type="button" class="btn btn-sm btn-outline-primary" id="addItemBtn"><i
                                    class="fas fa-plus me-1"></i> Add Row</button>
                        </div>
                        <div class="card-body p-0">
                            <div class="table-responsive">
                                <table class="table table-hover align-middle mb-0" id="itemsTable">
                                    <thead class="table-light">
                                        <tr>
                                            <th style="width: 35%; padding-left: 1.5rem;">Item Description</th>
                                            <th style="width: 15%;">HSN/SAC</th>
                                            <th style="width: 10%;">Qty</th>
                                            <th style="width: 15%;">Rate (₹)</th>
                                            <th style="width: 12%;">GST</th>
                                            <th style="width: 13%; text-align: right; padding-right: 1.5rem;">Amount
                                            </th>
                                            <th style="width: 5%;"></th>
                                        </tr>
                                    </thead>
                                    <tbody id="itemsBody" class="border-top-0">
                                        <!-- Dynamic Rows -->
                                    </tbody>
                                </table>
                            </div>
                            <div id="emptyState" class="text-center py-5 text-muted d-none">
                                <i class="fas fa-box-open fa-3x mb-3 opacity-50"></i>
                                <p>No items added yet. Click "Add Row" to start.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Sidebar Summary -->
                <div class="col-lg-4">
                    <div class="card shadow-sm border-0 mb-4 sticky-top" style="top: 20px; z-index: 100;">
                        <div class="card-body">
                            <h5 class="card-title mb-4">Summary</h5>

                            <!-- Discount Section -->
                            <div class="mb-3">
                                <label class="form-label small text-muted">Discount</label>
                                <div class="input-group input-group-sm mb-2">
                                    <div class="input-group-text bg-white">
                                        <div class="form-check form-check-inline mb-0 me-0">
                                            <input class="form-check-input" type="radio" name="discountType"
                                                id="discFixed" value="fixed" checked>
                                            <label class="form-check-label small" for="discFixed">₹</label>
                                        </div>
                                    </div>
                                    <div class="input-group-text bg-white border-start-0">
                                        <div class="form-check form-check-inline mb-0 me-0">
                                            <input class="form-check-input" type="radio" name="discountType"
                                                id="discPercent" value="percent">
                                            <label class="form-check-label small" for="discPercent">%</label>
                                        </div>
                                    </div>
                                    <input type="number" class="form-control text-end" id="discountValue"
                                        placeholder="0" min="0">
                                </div>
                            </div>

                            <div class="d-flex justify-content-between mb-2">
                                <span class="text-muted">Subtotal</span>
                                <span class="fw-medium" id="summarySubtotal">₹0.00</span>
                            </div>

                            <div class="d-flex justify-content-between mb-2 small text-success" id="discountRow">
                                <span class="text-muted">Discount</span>
                                <span id="summaryDiscount">- ₹0.00</span>
                            </div>

                            <div class="d-flex justify-content-between mb-2 small" id="cgstRow">
                                <span class="text-muted">CGST</span>
                                <span class="text-dark" id="summaryCGST">₹0.00</span>
                            </div>
                            <div class="d-flex justify-content-between mb-2 small" id="sgstRow">
                                <span class="text-muted">SGST</span>
                                <span class="text-dark" id="summarySGST">₹0.00</span>
                            </div>
                            <div class="d-flex justify-content-between mb-2 small d-none" id="igstRow">
                                <span class="text-muted">IGST</span>
                                <span class="text-dark" id="summaryIGST">₹0.00</span>
                            </div>

                            <hr>

                            <div class="d-flex justify-content-between mb-4">
                                <span class="h5 mb-0">Total</span>
                                <span class="h5 mb-0 text-primary" id="summaryTotal">₹0.00</span>
                            </div>

                            <div class="d-grid gap-2">
                                <button type="button" class="btn btn-primary py-2" id="btnTaxInvoice">
                                    <i class="fas fa-file-invoice me-2"></i>Download Tax Invoice
                                </button>
                                <button type="button" class="btn btn-outline-secondary py-2" id="btnSimpleInvoice">
                                    <i class="fas fa-file-alt me-2"></i>Simple Invoice (No Tax)
                                </button>
                                <button type="button" class="btn btn-outline-dark py-2" id="btnChallan">
                                    <i class="fas fa-truck me-2"></i>Delivery Challan
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>

    <!-- Floating Logo -->
    <img src="https://i.ibb.co/5XvB03Hm/logosmallsize.png" class="fixed-bottom-logo" alt="Logo">

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/pdfmake.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/vfs_fonts.js"></script>
    <script src="js/pdf-builder.js"></script>
    <script src="js/app.js"></script>
</body>

</html>
